<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pong - Jogo para Dois Jogadores</title>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
    }

    .pong-container {
      position: relative;
      width: 800px;
      height: 400px;
      background-color: black;
    }

    .paddle {
      position: absolute;
      width: 20px;
      height: 80px;
      background-color: red;
      top: 50%;
      transform: translateY(-50%);
    }

    .paddle-right {
      background-color: green;
      right: 0;
    }

    .ball {
      position: absolute;
      width: 15px;
      height: 15px;
      background-color: white;
      border-radius: 50%;
    }

    .scoreboard {
      margin-bottom: 20px;
      font-size: 24px;
      font-weight: bold;
      color: #333;
    }
  </style>
</head>
<body>

  <div class="text-center scoreboard">
    <span id="score-left" class="text-danger">0</span> | <span id="score-right" class="text-success">0</span>
  </div>

  <div class="pong-container">
    <div id="paddle-left" class="paddle"></div>
    <div id="paddle-right" class="paddle paddle-right"></div>
    <div id="ball" class="ball"></div>
  </div>

  <script>
    const pongContainer = document.querySelector('.pong-container');
    const paddleLeft = document.getElementById('paddle-left');
    const paddleRight = document.getElementById('paddle-right');
    const ball = document.getElementById('ball');
    const scoreLeft = document.getElementById('score-left');
    const scoreRight = document.getElementById('score-right');

    let paddleLeftY = pongContainer.offsetHeight / 2 - paddleLeft.offsetHeight / 2;
    let paddleRightY = pongContainer.offsetHeight / 2 - paddleRight.offsetHeight / 2;
    let ballX = pongContainer.offsetWidth / 2 - ball.offsetWidth / 2;
    let ballY = pongContainer.offsetHeight / 2 - ball.offsetHeight / 2;
    let ballSpeedX = 3;
    let ballSpeedY = 3;
    let paddleSpeed = 20;
    let leftScore = 0;
    let rightScore = 0;

    function moveBall() {
      ballX += ballSpeedX;
      ballY += ballSpeedY;

      if (ballY <= 0 || ballY >= pongContainer.offsetHeight - ball.offsetHeight) {
        ballSpeedY = -ballSpeedY;  // Reflete a bola no topo ou fundo
      }

      if (ballX <= paddleLeft.offsetWidth) {  // Colisão com a paleta esquerda
        if (ballY + ball.offsetHeight > paddleLeftY && ballY < paddleLeftY + paddleLeft.offsetHeight) {
          ballSpeedX = -ballSpeedX;
        } else {
          rightScore++;  // Pontuação do jogador 2
          updateScore();
          resetBall();
        }
      }

      if (ballX >= pongContainer.offsetWidth - ball.offsetWidth - paddleRight.offsetWidth) {  // Colisão com a paleta direita
        if (ballY + ball.offsetHeight > paddleRightY && ballY < paddleRightY + paddleRight.offsetHeight) {
          ballSpeedX = -ballSpeedX;
        } else {
          leftScore++;  // Pontuação do jogador 1
          updateScore();
          resetBall();
        }
      }

      ball.style.left = `${ballX}px`;
      ball.style.top = `${ballY}px`;
    }

    function movePaddles(event) {
      // Movimento do jogador 1 (W e S)
      if (event.key === 'w' && paddleLeftY > 0) {
        paddleLeftY -= paddleSpeed;
      } else if (event.key === 's' && paddleLeftY < pongContainer.offsetHeight - paddleLeft.offsetHeight) {
        paddleLeftY += paddleSpeed;
      }

      // Movimento do jogador 2 (Setas para cima e para baixo)
      if (event.key === 'ArrowUp' && paddleRightY > 0) {
        paddleRightY -= paddleSpeed;
      } else if (event.key === 'ArrowDown' && paddleRightY < pongContainer.offsetHeight - paddleRight.offsetHeight) {
        paddleRightY += paddleSpeed;
      }

      paddleLeft.style.top = `${paddleLeftY}px`;
      paddleRight.style.top = `${paddleRightY}px`;
    }

    function updateScore() {
      scoreLeft.textContent = leftScore;
      scoreRight.textContent = rightScore;
    }

    function resetBall() {
      ballX = pongContainer.offsetWidth / 2 - ball.offsetWidth / 2;
      ballY = pongContainer.offsetHeight / 2 - ball.offsetHeight / 2;
      ballSpeedX = -ballSpeedX;
      ballSpeedY = 3;
    }

    document.addEventListener('keydown', movePaddles);
    setInterval(moveBall, 1000 / 60);  // 60 FPS
  </script>

</body>
</html>
